---
description: Guidelines for pnpm workspace management, installing packages and workspace dependencies
alwaysApply: false
---
# Package Management Rules

## Package Manager: pnpm

This project uses **pnpm** as the package manager. Never use npm or yarn.

### Installing Packages

**Always use the workspace filter flag when adding packages to specific apps or packages.**

Examples:
```bash
# Add a package to the api app
pnpm add stripe --filter api

# Add a dev dependency to the web app
pnpm add -D @types/lodash --filter web

# Add a package to a shared package
pnpm add lodash --filter app-constants

# Add a package to all workspaces
pnpm add -w zod

# Add a package to the root workspace
pnpm add -w -D husky
```

### Workspace Dependencies

When referencing internal packages, use the `workspace:*` protocol in package.json:
```json
{
  "dependencies": {
    "app-constants": "workspace:*",
    "app-types": "workspace:*",
    "schemas": "workspace:*"
  }
}
```
